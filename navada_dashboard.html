<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAVADA - AI Jobs Intelligence</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e0e0e0;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(30, 30, 60, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            background: rgba(20, 20, 40, 0.98);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo h1 {
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 2px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .chat-toggle {
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(100, 181, 246, 0.3);
        }

        .chat-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(100, 181, 246, 0.4);
        }

        .live-indicator {
            background: #ff4444;
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.6; }
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            margin-top: 80px;
            padding: 20px;
            transition: margin-right 0.3s ease;
        }

        .main-content.chat-open {
            margin-right: 450px;
        }

        /* Charts Grid */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            padding: 0 10px;
        }

        .chart-card {
            background: rgba(40, 40, 70, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            animation: fadeInUp 0.6s ease-out;
        }

        .chart-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(100, 181, 246, 0.3);
        }

        .enhanced-chart {
            border: 1px solid rgba(76, 175, 80, 0.3);
            background: rgba(45, 45, 75, 0.95);
        }

        .enhanced-chart:hover {
            border: 1px solid rgba(76, 175, 80, 0.5);
            box-shadow: 0 12px 40px rgba(76, 175, 80, 0.2);
        }

        .new-badge {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            font-size: 0.7em;
            padding: 4px 8px;
            border-radius: 12px;
            margin-left: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Job Listings Section */
        .job-listings-section {
            background: rgba(40, 40, 70, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: fadeInUp 0.6s ease-out;
        }

        .section-title {
            color: #64b5f6;
            margin-bottom: 25px;
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .job-filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(60, 60, 90, 0.5);
            border-radius: 15px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-group label {
            color: #b0b0b0;
            font-size: 12px;
            font-weight: 600;
        }

        .filter-select, .search-input {
            background: rgba(80, 80, 120, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 10px;
            color: #e0e0e0;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .filter-select:focus, .search-input:focus {
            outline: none;
            border-color: #64b5f6;
            box-shadow: 0 0 0 2px rgba(100, 181, 246, 0.2);
        }

        .job-results-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(60, 60, 90, 0.3);
            border-radius: 10px;
        }

        .refresh-btn {
            background: linear-gradient(45deg, #64b5f6, #1976d2);
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(100, 181, 246, 0.3);
        }

        .job-listings-container {
            max-height: 600px;
            overflow-y: auto;
            border-radius: 10px;
            background: rgba(30, 30, 50, 0.5);
            padding: 15px;
        }

        .job-card {
            background: rgba(60, 60, 90, 0.8);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .job-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(100, 181, 246, 0.2);
            border-color: rgba(100, 181, 246, 0.3);
        }

        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .job-title {
            color: #64b5f6;
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }

        .job-company {
            color: #81c784;
            font-size: 16px;
            font-weight: 500;
            margin: 5px 0;
        }

        .job-location {
            color: #ffb74d;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .job-salary {
            color: #a5d6a7;
            font-size: 16px;
            font-weight: 600;
            text-align: right;
        }

        .job-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .job-detail-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #b0b0b0;
        }

        .job-description {
            color: #d0d0d0;
            font-size: 14px;
            line-height: 1.6;
            margin-top: 15px;
            max-height: 60px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .job-posted {
            color: #9e9e9e;
            font-size: 12px;
            margin-top: 10px;
            font-style: italic;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
        }

        .page-btn {
            background: rgba(100, 181, 246, 0.8);
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .page-btn:hover:not(:disabled) {
            background: rgba(100, 181, 246, 1);
            transform: translateY(-2px);
        }

        .page-btn:disabled {
            background: rgba(100, 100, 100, 0.5);
            cursor: not-allowed;
        }

        /* Chart Modal Styles */
        .chart-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
        }

        .chart-modal-content {
            position: relative;
            margin: auto;
            padding: 20px;
            width: 90%;
            height: 90%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .chart-modal-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .chart-close {
            position: absolute;
            top: 20px;
            right: 30px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            z-index: 2001;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chart-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .chart-close i {
            color: white;
            font-size: 20px;
        }

        /* Job Detail Modal */
        .job-detail-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .job-detail-content {
            position: relative;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            margin: 5% auto;
            padding: 30px;
            width: 80%;
            max-width: 800px;
            max-height: 80%;
            overflow-y: auto;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .job-detail-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .job-detail-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .job-detail-close i {
            color: white;
            font-size: 18px;
        }

        /* Chart Images Clickable */
        .chart-image {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chart-image:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(100, 181, 246, 0.3);
        }

        .loading-jobs {
            text-align: center;
            padding: 40px;
            color: #b0b0b0;
            font-size: 16px;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chart-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #e0e0e0;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(100, 181, 246, 0.2);
        }

        .chart-title i {
            color: #64b5f6;
            font-size: 1.2em;
        }

        .chart-image {
            width: 100%;
            height: auto;
            border-radius: 15px;
            transition: transform 0.3s ease;
        }

        .chart-image:hover {
            transform: scale(1.02);
        }

        /* Burger Menu */
        .burger-menu {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            padding: 10px;
            gap: 4px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .burger-menu:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .burger-line {
            width: 25px;
            height: 3px;
            background: #64b5f6;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .burger-menu.active .burger-line:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .burger-menu.active .burger-line:nth-child(2) {
            opacity: 0;
        }

        .burger-menu.active .burger-line:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        /* Side Panel */
        .side-panel {
            position: fixed;
            right: 0;
            top: 0;
            width: 500px;
            height: 100vh;
            background: rgba(20, 20, 40, 0.98);
            backdrop-filter: blur(20px);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.5);
        }

        .side-panel.open {
            transform: translateX(0);
        }

        .side-panel-header {
            padding: 20px;
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .side-panel-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin: 0;
        }

        .side-panel-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .side-panel-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .side-panel-nav {
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 25px;
            color: #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-size: 16px;
        }

        .nav-item:hover {
            background: rgba(100, 181, 246, 0.1);
            color: #64b5f6;
            transform: translateX(5px);
        }

        .nav-item.active {
            background: rgba(100, 181, 246, 0.2);
            color: #64b5f6;
            border-right: 3px solid #64b5f6;
        }

        .nav-item i {
            font-size: 1.2rem;
            width: 20px;
        }

        .side-panel-content {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }

        .panel-section {
            display: none;
            height: 100%;
        }

        .panel-section.active {
            display: block;
        }

        /* AI Assistant Styling */
        .assistant-container {
            height: 100%;
            display: flex;
            flex-direction: column;
            background: linear-gradient(145deg, #1a1a2e 0%, #16213e 100%);
        }

        .assistant-header {
            display: flex;
            align-items: center;
            padding: 20px;
            background: rgba(100, 181, 246, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            gap: 15px;
        }

        .assistant-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(100, 181, 246, 0.3);
        }

        .assistant-info h3 {
            margin: 0;
            color: #64b5f6;
            font-size: 1.4rem;
            font-weight: 700;
        }

        .assistant-info p {
            margin: 5px 0 0 0;
            color: #b0b0b0;
            font-size: 0.9rem;
        }

        .assistant-status {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #81c784;
            font-size: 0.9rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #81c784;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .chat-messages-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: rgba(30, 30, 60, 0.3);
        }

        .welcome-message {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .assistant-avatar-small {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .message-bubble {
            background: rgba(60, 60, 90, 0.8);
            border-radius: 18px 18px 18px 4px;
            padding: 15px;
            max-width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .assistant-bubble {
            background: rgba(100, 181, 246, 0.15);
            border: 1px solid rgba(100, 181, 246, 0.3);
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .sender-name {
            font-weight: 600;
            color: #64b5f6;
            font-size: 0.9rem;
        }

        .message-time {
            font-size: 0.8rem;
            color: #999;
        }

        .message-text {
            color: #e0e0e0;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .feature-list {
            margin: 10px 0;
        }

        .feature-item {
            margin: 8px 0;
            padding: 8px 12px;
            background: rgba(100, 181, 246, 0.1);
            border-radius: 8px;
            border-left: 3px solid #64b5f6;
            font-size: 0.9rem;
        }

        .api-setup-section {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .api-setup-card {
            background: rgba(60, 60, 90, 0.6);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .api-setup-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #64b5f6;
        }

        .api-setup-header h4 {
            margin: 0;
            font-size: 1.1rem;
        }

        .api-setup-description {
            color: #b0b0b0;
            margin-bottom: 15px;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .api-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .api-input-field {
            flex: 1;
            background: rgba(40, 40, 70, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 12px 15px;
            color: #e0e0e0;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .api-input-field:focus {
            outline: none;
            border-color: #64b5f6;
            box-shadow: 0 0 0 3px rgba(100, 181, 246, 0.2);
        }

        .api-save-button {
            background: linear-gradient(135deg, #64b5f6 0%, #42a5f5 100%);
            border: none;
            border-radius: 10px;
            padding: 12px 20px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .api-save-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(100, 181, 246, 0.4);
        }

        .api-help-text {
            color: #999;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .api-help-text a {
            color: #64b5f6;
            text-decoration: none;
        }

        .api-help-text a:hover {
            text-decoration: underline;
        }

        .chat-input-area {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(30, 30, 60, 0.5);
        }

        .input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input-field {
            flex: 1;
            background: rgba(40, 40, 70, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 15px 20px;
            color: #e0e0e0;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .chat-input-field:focus {
            outline: none;
            border-color: #64b5f6;
            box-shadow: 0 0 0 3px rgba(100, 181, 246, 0.2);
        }

        .chat-input-field:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .send-message-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #64b5f6 0%, #42a5f5 100%);
            border: none;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        .send-message-button:hover:not(:disabled) {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(100, 181, 246, 0.4);
        }

        .send-message-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* About Section Styling */
        .about-container {
            height: 100%;
            display: flex;
            flex-direction: column;
            background: linear-gradient(145deg, #1a1a2e 0%, #16213e 100%);
        }

        .about-header {
            display: flex;
            align-items: center;
            padding: 20px;
            background: rgba(100, 181, 246, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            gap: 15px;
        }

        .about-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(100, 181, 246, 0.3);
        }

        .about-info h3 {
            margin: 0;
            color: #64b5f6;
            font-size: 1.4rem;
            font-weight: 700;
        }

        .about-info p {
            margin: 5px 0 0 0;
            color: #b0b0b0;
            font-size: 0.9rem;
        }

        .about-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: rgba(30, 30, 60, 0.3);
        }

        .about-section {
            margin-bottom: 25px;
            background: rgba(60, 60, 90, 0.6);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .about-section h4 {
            color: #64b5f6;
            margin: 0 0 15px 0;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .about-section p {
            color: #e0e0e0;
            line-height: 1.6;
            margin: 0 0 15px 0;
        }

        .feature-list-about {
            color: #e0e0e0;
            margin: 0;
            padding-left: 20px;
        }

        .feature-list-about li {
            margin: 8px 0;
            line-height: 1.5;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .feature-item-about {
            background: rgba(100, 181, 246, 0.1);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(100, 181, 246, 0.3);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .feature-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #64b5f6 0%, #42a5f5 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .feature-text {
            color: #e0e0e0;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .creator-section {
            background: linear-gradient(135deg, rgba(100, 181, 246, 0.15) 0%, rgba(129, 199, 132, 0.15) 100%);
            border: 1px solid rgba(100, 181, 246, 0.3);
        }

        .creator-info {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .creator-details strong {
            color: #64b5f6;
            font-size: 1.1rem;
        }

        .creator-title {
            color: #81c784;
            font-weight: 600;
        }

        .creator-experience {
            color: #b0b0b0;
            font-style: italic;
        }

        .creator-links {
            display: flex;
            gap: 10px;
        }

        .creator-link {
            background: rgba(100, 181, 246, 0.2);
            color: #64b5f6;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            border: 1px solid rgba(100, 181, 246, 0.3);
        }

        .creator-link:hover {
            background: rgba(100, 181, 246, 0.3);
            transform: translateY(-2px);
        }

        .creator-bio {
            font-size: 0.9rem;
            line-height: 1.6;
            margin: 0;
        }

        /* Collapsible Chat Panel */
        .chat-panel {
            position: fixed;
            right: 0;
            top: 80px;
            width: 450px;
            height: calc(100vh - 80px);
            background: rgba(30, 30, 60, 0.98);
            backdrop-filter: blur(15px);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 999;
            display: flex;
            flex-direction: column;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.3);
        }

        .chat-panel.open {
            transform: translateX(0);
        }

        .chat-header {
            padding: 25px;
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            font-size: 1.3rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .close-chat {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .close-chat:hover {
            transform: rotate(90deg);
        }

        .api-setup {
            padding: 20px;
            background: linear-gradient(135deg, #2d4a6b 0%, #3d5a73 100%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .api-setup h4 {
            color: #81c784;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .api-input-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .api-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #555;
            border-radius: 12px;
            font-size: 14px;
            background: rgba(60, 60, 90, 0.8);
            color: #e0e0e0;
            transition: all 0.3s ease;
        }

        .api-input:focus {
            outline: none;
            border-color: #64b5f6;
            box-shadow: 0 0 0 3px rgba(100, 181, 246, 0.2);
            transform: scale(1.02);
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(100, 181, 246, 0.4);
        }

        .sample-questions {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sample-questions h4 {
            color: #e0e0e0;
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .question-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .question-pill {
            background: rgba(60, 60, 90, 0.8);
            border: 2px solid #555;
            color: #b0b0b0;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .question-pill:hover {
            background: #64b5f6;
            border-color: #64b5f6;
            color: white;
            transform: translateY(-2px) scale(1.05);
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            scroll-behavior: smooth;
        }

        .message {
            margin-bottom: 20px;
            animation: slideInMessage 0.5s ease-out;
        }

        @keyframes slideInMessage {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .message-user {
            display: flex;
            justify-content: flex-end;
        }

        .message-ai {
            display: flex;
            justify-content: flex-start;
        }

        .message-bubble {
            max-width: 85%;
            padding: 16px 20px;
            border-radius: 20px;
            position: relative;
            transition: transform 0.2s ease;
        }

        .message-bubble:hover {
            transform: scale(1.02);
        }

        .message-user .message-bubble {
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            color: white;
            border-bottom-right-radius: 6px;
        }

        .message-ai .message-bubble {
            background: rgba(60, 60, 90, 0.9);
            color: #e0e0e0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-bottom-left-radius: 6px;
        }

        .message-sender {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 8px;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .message-content {
            line-height: 1.5;
        }

        .message-content h3 {
            color: #81c784;
            margin: 10px 0 8px 0;
            font-size: 1.1em;
        }

        .message-content .highlight {
            background: rgba(100, 181, 246, 0.25);
            padding: 2px 6px;
            border-radius: 6px;
            color: #64b5f6;
            font-weight: 600;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            font-style: italic;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #64b5f6;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1.2); opacity: 1; }
        }

        .chat-input-area {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(40, 40, 70, 0.9);
        }

        .input-group {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid #555;
            border-radius: 20px;
            font-size: 14px;
            background: rgba(60, 60, 90, 0.8);
            color: #e0e0e0;
            resize: none;
            min-height: 50px;
            max-height: 120px;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            outline: none;
            border-color: #64b5f6;
            box-shadow: 0 0 0 3px rgba(100, 181, 246, 0.2);
            transform: scale(1.02);
        }

        .send-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #64b5f6 0%, #81c784 100%);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .send-btn:hover:not(:disabled) {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 8px 25px rgba(100, 181, 246, 0.5);
        }

        .status-indicator {
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 500;
            margin-top: 10px;
            animation: fadeInUp 0.3s ease;
        }

        .status-success {
            background: rgba(129, 199, 132, 0.2);
            color: #81c784;
            border: 1px solid rgba(129, 199, 132, 0.3);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }

            .chat-panel {
                width: 100%;
                transform: translateX(100%);
            }

            .main-content.chat-open {
                margin-right: 0;
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: 10px 15px;
            }

            .logo h1 {
                font-size: 1.5rem;
            }

            .side-panel {
                width: 100%;
            }

            .main-content {
                padding: 15px;
                margin-top: 70px;
            }

            .charts-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .chart-card {
                padding: 20px;
            }
        }

        /* Loading Animation */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 50px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(100, 181, 246, 0.2);
            border-left: 4px solid #64b5f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header" id="header">
            <div class="logo">
                <div class="logo-icon">N</div>
                <h1>NAVADA</h1>
                <span style="font-size: 0.8rem; color: #b0b0b0; margin-left: 10px;">AI Jobs Intelligence</span>
            </div>
            <div class="header-controls">
                <button onclick="showAboutModal()" style="background: rgba(100, 181, 246, 0.2); border: 1px solid rgba(100, 181, 246, 0.5); color: #64b5f6; padding: 8px 16px; border-radius: 20px; font-size: 0.9rem; cursor: pointer; transition: all 0.3s ease; margin-right: 15px;">
                    <i class="fas fa-info-circle"></i> About
                </button>
                <div class="live-indicator">🔴 LIVE</div>
                <div class="burger-menu" onclick="toggleSidePanel()">
                    <div class="burger-line"></div>
                    <div class="burger-line"></div>
                    <div class="burger-line"></div>
                </div>
            </div>
        </header>

        <!-- Side Panel -->
        <div class="side-panel" id="sidePanel">
            <div class="side-panel-header">
                <h2 class="side-panel-title">NAVADA Tools</h2>
                <button class="side-panel-close" onclick="toggleSidePanel()">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="side-panel-nav">
                <button class="nav-item active" onclick="showPanel('jobs')">
                    <i class="fas fa-briefcase"></i>
                    <span>Live UK AI Jobs</span>
                </button>
                <button class="nav-item" onclick="showPanel('chat')">
                    <i class="fas fa-robot"></i>
                    <span>AI Assistant</span>
                </button>
            </div>

            <div class="side-panel-content">
                <!-- Job Listings Panel -->
                <div class="panel-section active" id="jobsPanel">
                    <div style="padding: 20px;">
                        <h3 style="color: #64b5f6; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-briefcase"></i>
                            Live UK AI Job Listings
                        </h3>

                        <!-- Job Filters -->
                        <div class="job-filters">
                            <div class="filter-group">
                                <label for="companyFilter">Company:</label>
                                <select id="companyFilter" class="filter-select">
                                    <option value="">All Companies</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="locationFilter">Location:</label>
                                <select id="locationFilter" class="filter-select">
                                    <option value="">All Locations</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="experienceFilter">Experience:</label>
                                <select id="experienceFilter" class="filter-select">
                                    <option value="">All Levels</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="salaryFilter">Salary Range:</label>
                                <select id="salaryFilter" class="filter-select">
                                    <option value="">All Salaries</option>
                                    <option value="30000-50000">£30k - £50k</option>
                                    <option value="50000-70000">£50k - £70k</option>
                                    <option value="70000-90000">£70k - £90k</option>
                                    <option value="90000-120000">£90k - £120k</option>
                                    <option value="120000+">£120k+</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <input type="text" id="searchInput" placeholder="Search jobs..." class="search-input">
                            </div>
                        </div>

                        <!-- Job Results Info -->
                        <div class="job-results-info">
                            <span id="jobCount">Loading jobs...</span>
                            <button id="refreshJobs" class="refresh-btn">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>

                        <!-- Job Listings Container -->
                        <div class="job-listings-container" id="jobListings">
                            <div class="loading-jobs">
                                <i class="fas fa-spinner fa-spin"></i>
                                Loading job listings...
                            </div>
                        </div>

                        <!-- Pagination -->
                        <div class="pagination" id="pagination" style="display: none;">
                            <button id="prevPage" class="page-btn">Previous</button>
                            <span id="pageInfo">Page 1 of 1</span>
                            <button id="nextPage" class="page-btn">Next</button>
                        </div>
                    </div>
                </div>

                <!-- Chat Panel -->
                <div class="panel-section" id="chatPanel">
                    <div class="assistant-container">
                        <div class="assistant-header">
                            <div class="assistant-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="assistant-info">
                                <h3>Leslie</h3>
                                <p>Your AI Job Market Assistant</p>
                            </div>
                            <div class="assistant-status">
                                <span class="status-dot"></span>
                                <span>Online</span>
                            </div>
                        </div>

                        <div class="chat-messages-container" id="chatMessages">
                            <div class="welcome-message">
                                <div class="assistant-avatar-small">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="message-bubble assistant-bubble">
                                    <div class="message-header">
                                        <span class="sender-name">Leslie</span>
                                        <span class="message-time">Just now</span>
                                    </div>
                                    <div class="message-text">
                                        👋 Hello! I'm Leslie, your AI assistant for UK AI job market insights. I can help you:
                                        <br><br>
                                        <div class="feature-list">
                                            <div class="feature-item">💰 Analyze salary trends and benchmarks</div>
                                            <div class="feature-item">🏢 Compare companies and their offerings</div>
                                            <div class="feature-item">🛠️ Understand skill requirements and demand</div>
                                            <div class="feature-item">📈 Provide career guidance and market insights</div>
                                        </div>
                                        <br>
                                        What would you like to know about the UK AI job market?
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="api-setup-section" id="apiKeyContainer">
                            <div class="api-setup-card">
                                <div class="api-setup-header">
                                    <i class="fas fa-key"></i>
                                    <h4>API Configuration</h4>
                                </div>
                                <p class="api-setup-description">
                                    Enter your OpenAI API key to enable intelligent conversations with Leslie
                                </p>
                                <div class="api-input-group">
                                    <input type="password" id="apiKeyInput" placeholder="sk-proj-..." class="api-input-field">
                                    <button onclick="saveApiKey()" class="api-save-button">
                                        <i class="fas fa-save"></i>
                                        Save Key
                                    </button>
                                </div>
                                <div class="api-help-text">
                                    <i class="fas fa-info-circle"></i>
                                    Get your API key from <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI Platform</a>
                                </div>
                            </div>
                        </div>

                        <div class="chat-input-area">
                            <div class="input-wrapper">
                                <input type="text" id="chatInput" placeholder="Ask Leslie about UK AI jobs..." class="chat-input-field" disabled>
                                <button onclick="sendMessage()" class="send-message-button" disabled>
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <div class="charts-grid">
                <div class="chart-card" style="animation-delay: 0.1s">
                    <h3 class="chart-title">
                        <i class="fas fa-building"></i>
                        Top UK Companies Hiring
                    </h3>
                    <img src="1_companies_hiring.png" alt="Companies Hiring" class="chart-image">
                </div>

                <div class="chart-card" style="animation-delay: 0.2s">
                    <h3 class="chart-title">
                        <i class="fas fa-map-marker-alt"></i>
                        UK Locations for AI Jobs
                    </h3>
                    <img src="2_location_distribution.png" alt="Location Distribution" class="chart-image">
                </div>

                <div class="chart-card" style="animation-delay: 0.3s">
                    <h3 class="chart-title">
                        <i class="fas fa-pound-sign"></i>
                        Salary by Experience Level
                    </h3>
                    <img src="3_salary_by_experience.png" alt="Salary by Experience" class="chart-image">
                </div>

                <div class="chart-card" style="animation-delay: 0.4s">
                    <h3 class="chart-title">
                        <i class="fas fa-code"></i>
                        Most In-Demand Skills
                    </h3>
                    <img src="5_required_skills.png" alt="Required Skills" class="chart-image">
                </div>

                <div class="chart-card" style="animation-delay: 0.5s">
                    <h3 class="chart-title">
                        <i class="fas fa-laptop-house"></i>
                        Work Arrangements
                    </h3>
                    <img src="6_work_type.png" alt="Work Type Distribution" class="chart-image">
                </div>

                <div class="chart-card" style="animation-delay: 0.6s">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-line"></i>
                        Salary by Location
                    </h3>
                    <img src="7_salary_by_location.png" alt="Salary by Location" class="chart-image">
                </div>

                <div class="chart-card" style="animation-delay: 0.7s">
                    <h3 class="chart-title">
                        <i class="fas fa-calendar-alt"></i>
                        Job Posting Timeline
                    </h3>
                    <img src="8_posting_timeline.png" alt="Posting Timeline" class="chart-image">
                </div>

                <div class="chart-card" style="animation-delay: 0.8s">
                    <h3 class="chart-title">
                        <i class="fas fa-sitemap"></i>
                        Job Categories
                    </h3>
                    <img src="10_job_categories.png" alt="Job Categories" class="chart-image">
                </div>

                <!-- Enhanced Analytics Section -->
                <div class="chart-card enhanced-chart" style="animation-delay: 0.9s">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-bar"></i>
                        Salary Distribution Histogram
                    </h3>
                    <img src="enhanced_1_salary_histogram.png" alt="Salary Histogram" class="chart-image">
                </div>

                <div class="chart-card enhanced-chart" style="animation-delay: 1.0s">
                    <h3 class="chart-title">
                        <i class="fas fa-trophy"></i>
                        Top Companies Leaderboard
                    </h3>
                    <img src="enhanced_2_top_companies_leaderboard.png" alt="Top Companies Leaderboard" class="chart-image">
                </div>

                <div class="chart-card enhanced-chart" style="animation-delay: 1.1s">
                    <h3 class="chart-title">
                        <i class="fas fa-map-marked-alt"></i>
                        Geographic Distribution
                    </h3>
                    <img src="enhanced_3_geographic_distribution.png" alt="Geographic Distribution" class="chart-image">
                </div>

                <div class="chart-card enhanced-chart" style="animation-delay: 1.2s">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-line"></i>
                        12-Month Historical Trends
                    </h3>
                    <img src="enhanced_4_historical_trends.png" alt="Historical Trends" class="chart-image">
                </div>

                <!-- Company Sentiment Analysis Section -->
                <div class="chart-card sentiment-chart" style="animation-delay: 1.3s">
                    <h3 class="chart-title">
                        <i class="fas fa-smile"></i>
                        Company Sentiment Ranking
                    </h3>
                    <img src="sentiment_1_company_ranking.png" alt="Company Sentiment Ranking" class="chart-image">
                </div>

                <div class="chart-card sentiment-chart" style="animation-delay: 1.4s">
                    <h3 class="chart-title">
                        <i class="fas fa-pound-sign"></i>
                        Sentiment vs Salary Analysis
                    </h3>
                    <img src="sentiment_2_salary_correlation.png" alt="Sentiment vs Salary" class="chart-image">
                </div>

                <div class="chart-card sentiment-chart" style="animation-delay: 1.5s">
                    <h3 class="chart-title">
                        <i class="fas fa-users"></i>
                        Company Engagement Scores
                    </h3>
                    <img src="sentiment_3_engagement_scores.png" alt="Engagement Scores" class="chart-image">
                </div>

                <div class="chart-card sentiment-chart" style="animation-delay: 1.6s">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-pie"></i>
                        Sentiment Distribution Analysis
                    </h3>
                    <img src="sentiment_4_distributions.png" alt="Sentiment Distribution" class="chart-image">
                </div>

            </div>
        </main>

        <!-- About Modal -->
        <div class="chart-modal" id="aboutModal" style="z-index: 10001;">
            <div class="chart-modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto; padding: 0;">
                <button class="chart-close" id="aboutClose" style="position: absolute; top: 15px; right: 15px; z-index: 10002;">
                    <i class="fas fa-times"></i>
                </button>
                <div class="about-container" style="padding: 30px;">
                    <div class="about-header" style="display: flex; align-items: center; padding: 20px; background: rgba(100, 181, 246, 0.1); border-bottom: 1px solid rgba(255, 255, 255, 0.1); margin: -30px -30px 20px -30px; border-radius: 10px 10px 0 0;">
                        <div class="about-avatar" style="width: 60px; height: 60px; background: linear-gradient(135deg, #64b5f6, #81c784); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 20px;">
                            <i class="fas fa-rocket" style="font-size: 24px; color: white;"></i>
                        </div>
                        <div class="about-info">
                            <h3 style="margin: 0; font-size: 1.8rem; color: #64b5f6;">NAVADA AI Jobs Intelligence</h3>
                            <p style="margin: 5px 0 0 0; color: #b0b0b0; font-size: 1.1rem;">Real-time UK AI job market insights platform</p>
                        </div>
                    </div>

                    <div class="about-content">
                        <div class="about-section" style="margin-bottom: 25px;">
                            <h4 style="color: #64b5f6; font-size: 1.3rem; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-lightbulb"></i> What is NAVADA?
                            </h4>
                            <p style="color: #e0e0e0; line-height: 1.6; font-size: 1rem;">NAVADA is a comprehensive AI-powered job market intelligence platform that provides real-time insights into the UK's artificial intelligence job sector. The platform combines live job data, advanced analytics, sentiment analysis, and AI-driven career guidance to empower job seekers, employers, and market researchers.</p>
                        </div>

                        <div class="about-section" style="margin-bottom: 25px;">
                            <h4 style="color: #64b5f6; font-size: 1.3rem; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-cogs"></i> How it Works
                            </h4>
                            <p style="color: #e0e0e0; line-height: 1.6; font-size: 1rem;">The platform leverages the Adzuna Jobs API to fetch real-time job listings, processes them through advanced analytics engines, and presents insights through 16 interactive charts. Our AI assistant Leslie provides personalized career guidance using OpenAI's GPT technology, while sentiment analysis algorithms evaluate company culture and job market trends.</p>
                        </div>

                        <div class="about-section" style="margin-bottom: 25px;">
                            <h4 style="color: #64b5f6; font-size: 1.3rem; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-target"></i> Why NAVADA?
                            </h4>
                            <p style="color: #e0e0e0; line-height: 1.6; font-size: 1rem; margin-bottom: 15px;">The AI job market is rapidly evolving, and professionals need data-driven insights to make informed career decisions. NAVADA bridges this gap by providing:</p>
                            <ul style="color: #e0e0e0; line-height: 1.6; font-size: 1rem; margin-left: 20px;">
                                <li style="margin-bottom: 8px;">Real-time salary benchmarking across 185+ live positions</li>
                                <li style="margin-bottom: 8px;">Company sentiment analysis for cultural fit assessment</li>
                                <li style="margin-bottom: 8px;">Skills demand tracking for career development planning</li>
                                <li style="margin-bottom: 8px;">Geographic distribution insights for relocation decisions</li>
                                <li style="margin-bottom: 8px;">AI-powered career guidance and market intelligence</li>
                            </ul>
                        </div>

                        <div class="about-section" style="margin-bottom: 25px;">
                            <h4 style="color: #64b5f6; font-size: 1.3rem; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-user-tie"></i> About the Creator
                            </h4>
                            <p style="color: #e0e0e0; line-height: 1.6; font-size: 1rem;">Designed and developed by <strong>Lee Akpareva MBA, MA</strong>, a business intelligence professional with expertise in data analytics, AI implementation, and strategic business solutions. Lee combines academic excellence with practical industry experience to create innovative platforms that solve real-world business challenges.</p>
                        </div>

                        <div class="about-section">
                            <h4 style="color: #64b5f6; font-size: 1.3rem; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-chart-line"></i> Technical Features
                            </h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div style="background: rgba(100, 181, 246, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(100, 181, 246, 0.3);">
                                    <div style="color: #64b5f6; font-weight: bold; margin-bottom: 5px;">16 Analytics Charts</div>
                                    <div style="color: #b0b0b0; font-size: 0.9rem;">Interactive data visualizations</div>
                                </div>
                                <div style="background: rgba(129, 199, 132, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(129, 199, 132, 0.3);">
                                    <div style="color: #81c784; font-weight: bold; margin-bottom: 5px;">Real-time API</div>
                                    <div style="color: #b0b0b0; font-size: 0.9rem;">Live Adzuna job data</div>
                                </div>
                                <div style="background: rgba(255, 183, 77, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(255, 183, 77, 0.3);">
                                    <div style="color: #ffb74d; font-weight: bold; margin-bottom: 5px;">AI Assistant</div>
                                    <div style="color: #b0b0b0; font-size: 0.9rem;">OpenAI GPT integration</div>
                                </div>
                                <div style="background: rgba(240, 98, 146, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(240, 98, 146, 0.3);">
                                    <div style="color: #f06292; font-weight: bold; margin-bottom: 5px;">Sentiment Analysis</div>
                                    <div style="color: #b0b0b0; font-size: 0.9rem;">Company culture insights</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chart Zoom Modal -->
        <div class="chart-modal" id="chartModal">
            <div class="chart-modal-content">
                <button class="chart-close" id="chartClose">
                    <i class="fas fa-times"></i>
                </button>
                <img id="chartModalImage" src="" alt="Chart" class="chart-modal-image">
            </div>
        </div>

        <!-- Job Detail Modal -->
        <div class="job-detail-modal" id="jobDetailModal">
            <div class="job-detail-content">
                <button class="job-detail-close" id="jobDetailClose">
                    <i class="fas fa-times"></i>
                </button>
                <div id="jobDetailContent">
                    <!-- Job details will be loaded here -->
                </div>
            </div>
        </div>

    </div>

    <script>
        let apiKey = localStorage.getItem('openai_api_key');
        let messageId = 0;
        let sidePanelOpen = false;
        let currentPanel = 'jobs';

        // Auto-resize textarea
        const chatInput = document.getElementById('chatInput');
        chatInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Toggle side panel
        function toggleSidePanel() {
            const sidePanel = document.getElementById('sidePanel');
            const burgerMenu = document.querySelector('.burger-menu');

            sidePanelOpen = !sidePanelOpen;

            if (sidePanelOpen) {
                sidePanel.classList.add('open');
                burgerMenu.classList.add('active');
            } else {
                sidePanel.classList.remove('open');
                burgerMenu.classList.remove('active');
            }
        }

        // Show specific panel section
        function showPanel(panelName) {
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.nav-item').classList.add('active');

            // Update panel content
            document.querySelectorAll('.panel-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(panelName + 'Panel').classList.add('active');

            currentPanel = panelName;

            // If switching to jobs panel, load jobs
            if (panelName === 'jobs') {
                loadJobs();
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Check if API key exists
            if (apiKey) {
                const apiInput = document.querySelector('#chatPanel .api-input');
                if (apiInput) {
                    apiInput.value = '••••••••••••••••••••';
                    enableChat();
                }
            }

            // Auto-load jobs when side panel is available
            loadJobs();
        });

        function saveApiKey() {
            const key = document.querySelector('.api-input-field').value;
            if (key && key !== '••••••••••••••••••••') {
                localStorage.setItem('openai_api_key', key);
                apiKey = key;
                document.querySelector('.api-input-field').value = '••••••••••••••••••••';
                document.getElementById('apiKeyContainer').style.display = 'none';
                enableChat();
            }
        }

        function enableChat() {
            const chatInput = document.querySelector('.chat-input-field');
            const sendButton = document.querySelector('.send-message-button');
            if (chatInput) chatInput.disabled = false;
            if (sendButton) sendButton.disabled = false;
            if (document.getElementById('apiKeyContainer')) {
                document.getElementById('apiKeyContainer').style.display = 'none';
            }
        }

        function askQuestion(question) {
            const input = document.querySelector('.chat-input-field');
            if (input) {
                input.value = question;
                sendMessage();
            }
        }

        async function sendMessage() {
            const input = document.querySelector('.chat-input-field');
            const message = input.value.trim();

            if (!message || !apiKey) return;

            // Add user message
            addMessage(message, 'user');
            input.value = '';
            input.style.height = 'auto';

            // Show typing indicator
            const typingId = addTypingIndicator();

            try {
                const response = await callOpenAI(message);
                removeMessage(typingId);
                addMessage(response, 'ai');
            } catch (error) {
                removeMessage(typingId);
                addMessage(`Sorry, there was an error: ${error.message}`, 'ai');
            }
        }

        async function callOpenAI(message) {
            const context = `
            You are NAVADA AI, a senior UK AI Job Market analyst with 10+ years of experience. You provide expert insights based on comprehensive analysis of 279 current UK AI job postings.

            YOUR EXPERTISE COVERS:

            🏢 COMPANY INTELLIGENCE:
            - Tech Giants: DeepMind, Microsoft UK, Amazon UK, Meta UK, Apple UK
            - British Leaders: ARM Holdings, Rolls-Royce, BAE Systems, BT Group
            - Fintech: Revolut, Monzo, Wise, Zopa, Checkout.com
            - AI Specialists: Darktrace, Faculty AI, Graphcore, Improbable

            📍 GEOGRAPHIC BREAKDOWN:
            - London: 35% (premium: +15-25%)
            - Manchester: 12%, Edinburgh: 8%, Cambridge: 7%
            - Remote: 10%

            💰 SALARY RANGES (GBP):
            - Entry: £35K-£55K, Mid: £50K-£75K
            - Senior: £70K-£110K, Lead: £90K-£140K
            - Principal: £120K-£180K+

            🛠️ SKILLS DEMAND:
            High: Python (85%), TensorFlow (60%), PyTorch (65%), AWS (70%)
            Growing: Kubernetes (45%), Docker (55%), SQL (50%)

            💼 WORK ARRANGEMENTS:
            Hybrid (41%), Remote (34%), On-site (25%)

            Provide expert analysis with specific data points and actionable advice. Use a professional but friendly tone.
            `;

            const response = await fetch('https://api.openai.com/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${apiKey}`,
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    model: 'gpt-3.5-turbo',
                    messages: [
                        {role: 'system', content: context},
                        {role: 'user', content: message}
                    ],
                    max_tokens: 600,
                    temperature: 0.7
                })
            });

            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.error?.message || 'API request failed');
            }

            const data = await response.json();
            return data.choices[0].message.content;
        }

        function addMessage(text, sender) {
            const messagesDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageId++;

            messageDiv.className = `message message-${sender}`;
            messageDiv.id = `message-${messageId}`;
            messageDiv.innerHTML = `
                <div class="message-bubble">
                    <div class="message-sender">${sender === 'user' ? '👤 You' : '🤖 NAVADA AI'}</div>
                    <div class="message-content">${formatMessage(text)}</div>
                </div>
            `;

            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;

            return messageId;
        }

        function addTypingIndicator() {
            const messagesDiv = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            messageId++;

            typingDiv.className = 'message message-ai';
            typingDiv.id = `message-${messageId}`;
            typingDiv.innerHTML = `
                <div class="message-bubble">
                    <div class="message-sender">🤖 NAVADA AI</div>
                    <div class="typing-indicator">
                        <span>Analyzing data</span>
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;

            messagesDiv.appendChild(typingDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;

            return messageId;
        }

        function removeMessage(id) {
            const messageDiv = document.getElementById(`message-${id}`);
            if (messageDiv) {
                messageDiv.remove();
            }
        }

        function formatMessage(text) {
            // Enhanced formatting for better readability
            let formatted = text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/£([0-9,]+)/g, '<span class="highlight">£$1</span>')
                .replace(/([0-9]+%)/g, '<span class="highlight">$1</span>')
                .replace(/\n\n/g, '</p><p>')
                .replace(/\n/g, '<br>');

            if (!formatted.startsWith('<')) {
                formatted = '<p>' + formatted + '</p>';
            }

            return formatted;
        }

        // Enter key to send message
        chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Stagger chart animations on load
        document.addEventListener('DOMContentLoaded', function() {
            const chartCards = document.querySelectorAll('.chart-card');
            chartCards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });

            // Initialize job listings and chart zoom functionality
            initializeJobListings();
            initializeChartZoom();
        });

        // Job Listings Functionality
        let allJobs = [];
        let filteredJobs = [];
        let currentPage = 1;
        const jobsPerPage = 10;

        async function initializeJobListings() {
            try {
                await loadJobs();
                populateFilters();
                setupEventListeners();
                displayJobs();
            } catch (error) {
                console.error('Failed to initialize job listings:', error);
                document.getElementById('jobListings').innerHTML =
                    '<div class="loading-jobs">Failed to load job listings</div>';
            }
        }

        async function loadJobs() {
            try {
                // Show loading state
                document.getElementById('jobListings').innerHTML = `
                    <div class="loading-jobs">
                        <i class="fas fa-spinner fa-spin"></i>
                        Loading UK AI job listings...
                    </div>
                `;

                // Fetch the CSV data
                const response = await fetch('live_uk_ai_jobs.csv');
                if (!response.ok) {
                    throw new Error('Failed to load job data');
                }
                const csvText = await response.text();

                // Parse and process jobs
                allJobs = parseCSV(csvText);
                filteredJobs = [...allJobs];

                // Update job count
                document.getElementById('jobCount').textContent =
                    `Showing ${filteredJobs.length} of ${allJobs.length} live UK AI jobs`;

                // Populate filter dropdowns
                populateFilters();

                // Display jobs with pagination
                currentPage = 1;
                displayJobs();

                // Set up event listeners for filters
                setupFilterListeners();

                console.log(`Successfully loaded ${allJobs.length} jobs`);
            } catch (error) {
                console.error('Error loading jobs:', error);
                document.getElementById('jobListings').innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-triangle"></i>
                        Failed to load job listings. Please try refreshing.
                    </div>
                `;
            }
        }

        function setupFilterListeners() {
            // Add event listeners for all filters
            document.getElementById('companyFilter').addEventListener('change', applyFilters);
            document.getElementById('locationFilter').addEventListener('change', applyFilters);
            document.getElementById('experienceFilter').addEventListener('change', applyFilters);
            document.getElementById('salaryFilter').addEventListener('change', applyFilters);
            document.getElementById('searchInput').addEventListener('input', applyFilters);
            document.getElementById('refreshJobs').addEventListener('click', loadJobs);

            // Pagination listeners
            document.getElementById('prevPage').addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    displayJobs();
                }
            });
            document.getElementById('nextPage').addEventListener('click', () => {
                const totalPages = Math.ceil(filteredJobs.length / jobsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    displayJobs();
                }
            });
        }

        function parseCSV(csvText) {
            console.log('Starting robust CSV parsing...');
            const lines = csvText.split('\n');
            const jobs = [];

            if (lines.length < 2) {
                console.warn('CSV file has insufficient data');
                return jobs;
            }

            // Expected headers in order
            const headers = ['job_id', 'title', 'company', 'location', 'category', 'experience_level', 'work_type', 'salary_min', 'salary_max', 'salary_avg', 'required_skills', 'description', 'posted_date', 'url', 'source', 'fetched_at'];

            let successCount = 0;
            let errorCount = 0;

            // Parse each data line starting from line 2 (skip header)
            for (let i = 1; i < lines.length; i++) {
                const line = lines[i].trim();
                if (!line) continue;

                try {
                    const fields = parseCSVLineRobust(line);

                    if (fields.length >= 4) {
                        const job = {};

                        // Map fields to headers
                        headers.forEach((header, index) => {
                            let value = (fields[index] || '').toString().trim();

                            // Clean quotes from beginning and end
                            if (value.startsWith('"') && value.endsWith('"') && value.length > 1) {
                                value = value.slice(1, -1);
                            }

                            // Handle escaped quotes within the value
                            value = value.replace(/""/g, '"');

                            job[header] = value;
                        });

                        // Validate essential fields and convert salary to numbers
                        if (job.title && job.company && job.location && job.title !== 'title') {
                            // Clean and convert salary fields
                            ['salary_min', 'salary_max', 'salary_avg'].forEach(salaryField => {
                                if (job[salaryField]) {
                                    const salaryValue = parseFloat(job[salaryField]);
                                    job[salaryField] = isNaN(salaryValue) ? 0 : salaryValue;
                                }
                            });

                            jobs.push(job);
                            successCount++;
                        }
                    }
                } catch (error) {
                    errorCount++;
                    console.warn(`Error parsing line ${i}:`, error.message);
                }
            }

            console.log(`CSV parsing complete: ${successCount} jobs parsed successfully, ${errorCount} errors`);
            return jobs;
        }

        function parseCSVLineRobust(line) {
            const result = [];
            let current = '';
            let inQuotes = false;
            let i = 0;

            while (i < line.length) {
                const char = line[i];
                const nextChar = line[i + 1];

                if (char === '"') {
                    if (inQuotes && nextChar === '"') {
                        // Handle escaped quotes (double quotes)
                        current += '"';
                        i += 2;
                        continue;
                    } else {
                        // Toggle quote state
                        inQuotes = !inQuotes;
                    }
                } else if (char === ',' && !inQuotes) {
                    // Found field separator, push current field
                    result.push(current.trim());
                    current = '';
                    i++;
                    continue;
                } else {
                    // Regular character, add to current field
                    current += char;
                }
                i++;
            }

            // Push the last field
            result.push(current.trim());
            return result;
        }

        // Legacy function for compatibility
        function splitCSVLine(line) {
            return parseCSVLineRobust(line);
        }

        function populateFilters() {
            // Extract unique values and filter out empty ones
            const companies = [...new Set(allJobs.map(job => job.company))]
                .filter(company => company && company.trim().length > 0)
                .sort();

            const locations = [...new Set(allJobs.map(job => job.location))]
                .filter(location => location && location.trim().length > 0)
                .sort();

            const experiences = [...new Set(allJobs.map(job => job.experience_level))]
                .filter(exp => exp && exp.trim().length > 0)
                .sort();

            const categories = [...new Set(allJobs.map(job => job.category))]
                .filter(cat => cat && cat.trim().length > 0)
                .sort();

            const workTypes = [...new Set(allJobs.map(job => job.work_type))]
                .filter(type => type && type.trim().length > 0)
                .sort();

            // Populate all dropdowns
            populateSelect('companyFilter', companies);
            populateSelect('locationFilter', locations);
            populateSelect('experienceFilter', experiences);

            // Log the filter data for debugging
            console.log('Filter data populated:', {
                companies: companies.length,
                locations: locations.length,
                experiences: experiences.length,
                categories: categories.length,
                workTypes: workTypes.length
            });
        }

        function populateSelect(selectId, options) {
            const select = document.getElementById(selectId);
            if (!select) {
                console.error(`Select element not found: ${selectId}`);
                return;
            }

            // Clear existing options except the first (default) option
            while (select.children.length > 1) {
                select.removeChild(select.lastChild);
            }

            // Add new options
            options.forEach(option => {
                if (option && option.trim().length > 0) {
                    const optionElement = document.createElement('option');
                    optionElement.value = option;
                    optionElement.textContent = option;
                    select.appendChild(optionElement);
                }
            });

            console.log(`Populated ${selectId} with ${options.length} options`);
        }

        function setupEventListeners() {
            // Filter event listeners
            ['companyFilter', 'locationFilter', 'experienceFilter', 'salaryFilter'].forEach(filterId => {
                document.getElementById(filterId).addEventListener('change', applyFilters);
            });

            document.getElementById('searchInput').addEventListener('input', applyFilters);
            document.getElementById('refreshJobs').addEventListener('click', refreshJobs);

            // Pagination
            document.getElementById('prevPage').addEventListener('click', () => changePage(-1));
            document.getElementById('nextPage').addEventListener('click', () => changePage(1));
        }

        function applyFilters() {
            const companyFilter = document.getElementById('companyFilter').value;
            const locationFilter = document.getElementById('locationFilter').value;
            const experienceFilter = document.getElementById('experienceFilter').value;
            const salaryFilter = document.getElementById('salaryFilter').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();

            filteredJobs = allJobs.filter(job => {
                const matchesCompany = !companyFilter || job.company === companyFilter;
                const matchesLocation = !locationFilter || job.location === locationFilter;
                const matchesExperience = !experienceFilter || job.experience_level === experienceFilter;
                const matchesSalary = !salaryFilter || checkSalaryRange(job, salaryFilter);
                const matchesSearch = !searchTerm ||
                    job.title.toLowerCase().includes(searchTerm) ||
                    job.company.toLowerCase().includes(searchTerm) ||
                    job.description.toLowerCase().includes(searchTerm);

                return matchesCompany && matchesLocation && matchesExperience && matchesSalary && matchesSearch;
            });

            currentPage = 1;
            updateJobCount();
            displayJobs();
        }

        function checkSalaryRange(job, range) {
            const salary = parseFloat(job.salary_avg);
            if (!salary) return false;

            switch(range) {
                case '30000-50000': return salary >= 30000 && salary <= 50000;
                case '50000-70000': return salary >= 50000 && salary <= 70000;
                case '70000-90000': return salary >= 70000 && salary <= 90000;
                case '90000-120000': return salary >= 90000 && salary <= 120000;
                case '120000+': return salary >= 120000;
                default: return true;
            }
        }

        function displayJobs() {
            const startIdx = (currentPage - 1) * jobsPerPage;
            const endIdx = startIdx + jobsPerPage;
            const jobsToShow = filteredJobs.slice(startIdx, endIdx);

            const container = document.getElementById('jobListings');

            if (jobsToShow.length === 0) {
                container.innerHTML = '<div class="loading-jobs">No jobs match your criteria</div>';
                document.getElementById('pagination').style.display = 'none';
                return;
            }

            container.innerHTML = jobsToShow.map(job => createJobCard(job)).join('');

            // Add click listeners to job cards
            container.querySelectorAll('.job-card').forEach((card, index) => {
                card.addEventListener('click', () => showJobDetail(jobsToShow[index]));
            });

            updatePagination();
        }

        function createJobCard(job) {
            // Handle salary display
            const salary = job.salary_avg && parseFloat(job.salary_avg) > 0
                ? `£${parseFloat(job.salary_avg).toLocaleString()}`
                : 'Salary not specified';

            // Handle posted date
            const postedDate = job.posted_date ? new Date(job.posted_date).toLocaleDateString() : 'Date not available';

            // Handle description
            const description = (job.description && job.description.length > 150)
                ? job.description.substring(0, 150) + '...'
                : (job.description || 'No description available');

            // Handle work type and experience level
            const workType = job.work_type || 'Not specified';
            const experienceLevel = job.experience_level || 'Not specified';
            const category = job.category || 'General';

            return `
                <div class="job-card">
                    <div class="job-header">
                        <div>
                            <h3 class="job-title">${job.title}</h3>
                            <div class="job-company">${job.company}</div>
                            <div class="job-location">
                                <i class="fas fa-map-marker-alt"></i>
                                ${job.location}
                            </div>
                        </div>
                        <div class="job-salary">${salary}</div>
                    </div>

                    <div class="job-details">
                        <div class="job-detail-item">
                            <i class="fas fa-user-tie"></i>
                            ${job.experience_level || 'Not specified'}
                        </div>
                        <div class="job-detail-item">
                            <i class="fas fa-briefcase"></i>
                            ${job.work_type || 'Not specified'}
                        </div>
                        <div class="job-detail-item">
                            <i class="fas fa-tag"></i>
                            ${job.category || 'Not specified'}
                        </div>
                    </div>

                    <div class="job-description">${description}</div>
                    <div class="job-posted">Posted: ${postedDate}</div>
                </div>
            `;
        }

        function showJobDetail(job) {
            const salary = job.salary_avg && parseFloat(job.salary_avg) > 0
                ? `£${parseFloat(job.salary_avg).toLocaleString()}`
                : 'Salary not specified';

            const skills = job.required_skills || 'Not specified';
            const postedDate = job.posted_date ? new Date(job.posted_date).toLocaleDateString() : 'Date not available';

            const content = `
                <h2 style="color: #64b5f6; margin-bottom: 20px;">${job.title}</h2>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                    <div>
                        <h3 style="color: #81c784;">Company Details</h3>
                        <p><strong>Company:</strong> ${job.company}</p>
                        <p><strong>Location:</strong> ${job.location}</p>
                        <p><strong>Category:</strong> ${job.category || 'Not specified'}</p>
                    </div>
                    <div>
                        <h3 style="color: #ffb74d;">Job Details</h3>
                        <p><strong>Experience Level:</strong> ${job.experience_level || 'Not specified'}</p>
                        <p><strong>Work Type:</strong> ${job.work_type || 'Not specified'}</p>
                        <p><strong>Salary:</strong> ${salary}</p>
                        <p><strong>Posted:</strong> ${postedDate}</p>
                    </div>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3 style="color: #ba68c8;">Required Skills</h3>
                    <p style="background: rgba(60, 60, 90, 0.5); padding: 15px; border-radius: 8px;">${skills}</p>
                </div>

                <div style="margin-bottom: 25px;">
                    <h3 style="color: #64b5f6;">Job Description</h3>
                    <div style="background: rgba(60, 60, 90, 0.3); padding: 20px; border-radius: 10px; line-height: 1.6;">
                        ${job.description}
                    </div>
                </div>

                ${job.url ? `
                <div style="text-align: center; margin-top: 30px;">
                    <a href="${job.url}" target="_blank"
                       style="background: linear-gradient(45deg, #64b5f6, #1976d2);
                              color: white; padding: 12px 25px; border-radius: 8px;
                              text-decoration: none; display: inline-block;
                              transition: all 0.3s ease;">
                        <i class="fas fa-external-link-alt"></i> View Job on Adzuna
                    </a>
                </div>
                ` : ''}
            `;

            document.getElementById('jobDetailContent').innerHTML = content;
            document.getElementById('jobDetailModal').style.display = 'block';
        }

        function updateJobCount() {
            document.getElementById('jobCount').textContent =
                `Showing ${filteredJobs.length} of ${allJobs.length} jobs`;
        }

        function updatePagination() {
            const totalPages = Math.ceil(filteredJobs.length / jobsPerPage);

            document.getElementById('prevPage').disabled = currentPage === 1;
            document.getElementById('nextPage').disabled = currentPage === totalPages;
            document.getElementById('pageInfo').textContent = `Page ${currentPage} of ${totalPages}`;

            document.getElementById('pagination').style.display = totalPages > 1 ? 'flex' : 'none';
        }

        function changePage(delta) {
            const totalPages = Math.ceil(filteredJobs.length / jobsPerPage);
            const newPage = currentPage + delta;

            if (newPage >= 1 && newPage <= totalPages) {
                currentPage = newPage;
                displayJobs();
            }
        }

        function refreshJobs() {
            const refreshBtn = document.getElementById('refreshJobs');
            const icon = refreshBtn.querySelector('i');

            icon.classList.add('fa-spin');
            refreshBtn.disabled = true;

            setTimeout(() => {
                loadJobs().then(() => {
                    applyFilters();
                    icon.classList.remove('fa-spin');
                    refreshBtn.disabled = false;
                });
            }, 1000);
        }

        // Chart Zoom Functionality
        function initializeChartZoom() {
            // Add click listeners to all chart images
            document.querySelectorAll('.chart-image').forEach(img => {
                img.addEventListener('click', function() {
                    showChartModal(this.src, this.alt);
                });
            });

            // Modal close functionality
            document.getElementById('chartClose').addEventListener('click', hideChartModal);
            document.getElementById('jobDetailClose').addEventListener('click', hideJobDetailModal);
            document.getElementById('aboutClose').addEventListener('click', hideAboutModal);

            // Close modals when clicking outside
            document.getElementById('chartModal').addEventListener('click', function(e) {
                if (e.target === this) hideChartModal();
            });

            document.getElementById('jobDetailModal').addEventListener('click', function(e) {
                if (e.target === this) hideJobDetailModal();
            });

            document.getElementById('aboutModal').addEventListener('click', function(e) {
                if (e.target === this) hideAboutModal();
            });

            // ESC key to close modals
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    hideChartModal();
                    hideJobDetailModal();
                    hideAboutModal();
                }
            });
        }

        function showChartModal(src, alt) {
            document.getElementById('chartModalImage').src = src;
            document.getElementById('chartModalImage').alt = alt;
            document.getElementById('chartModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function hideChartModal() {
            document.getElementById('chartModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function hideJobDetailModal() {
            document.getElementById('jobDetailModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function showAboutModal() {
            document.getElementById('aboutModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function hideAboutModal() {
            document.getElementById('aboutModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
    </script>

    <!-- Footer -->
    <footer style="background: rgba(30, 30, 60, 0.95); padding: 20px 0; text-align: center; color: #e0e0e0; border-top: 1px solid rgba(255, 255, 255, 0.1); margin-top: 50px;">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
            <p style="margin: 0; font-size: 14px; opacity: 0.8;">
                Designed & Developed by <strong>Lee Akpareva MBA, MA</strong>
            </p>
            <p style="margin: 5px 0 0 0; font-size: 12px; opacity: 0.6;">
                NAVADA - AI Jobs Intelligence Platform © 2025
            </p>
        </div>
    </footer>

</body>
</html>